<!DOCTYPE html>
<html lang='en'>
    <head>
        <meta charset='utf-8' />
        <meta http-equiv='X-UA-Compatible' content='IE=edge' />
        <title>Array</title>
        <meta name='viewport' content='width=device-width, initial-scale=1' />
        <link rel='stylesheet' href='../resources/VitalStyle.css' />

        <style>
            @keyframes cell-show {
                0% {
                    background-color: var(--primary-colour);
                    color: var(--secondary-colour);
                }
                50% {
                    background-color: var(--accent1);
                    color: var(--accent2);
                }
                100% {
                    background-color: var(--primary-colour);
                    color: var(--secondary-colour);
                }
            }

            @keyframes score-mistake {
                33% {
                    transform: translateX(-0.5em);
                }
                66% {
                    background-color: var(--accent1);
                    color: var(--primary-colour);
                    transform: translateX(0.5em);
                }
                100% {
                    transform: translateX(0%);
                }
            }

            @keyframes score-correct {
                50% {
                    background-color: var(--secondary-colour);
                    color: var(--primary-colour);
                    transform: scale(1.03);
                }
            }

            @keyframes win-blink {
                25% {
                    box-shadow: inset 0px 0px 15px var(--accent1);
                }
                50% {
                    box-shadow: none;
                }
                75% {
                    box-shadow: inset 0px 0px 15px var(--secondary-colour);
                }
            }

            :root {
                --cell-size: 2.1rem;
                --grid-max-size: 32rem;
            }

            .cell {
                display: flex;
                align-items: end;
                justify-content: center;
                font-family: 'Courier New', Courier, monospace;
                font-size: 1.6em;
                font-weight: 600;
                border: 2px outset var(--accent1);
                border-radius: 2px;
                opacity: 1;
                height: var(--cell-size);
                width: var(--cell-size);
                cursor: cell;
                transition:
                    background-color 1.75s ease-in,
                    color 0.5s ease-in,
                    opacity 0.5s ease;
                animation: cell-show 1s ease-in;
            }

            .cell:focus,
            .cell:hover {
                background-color: var(--accent2);
                color: var(--secondary-colour);
                transition: background-color 0s ease-out;
            }

            .cell-hidden {
                color: var(--primary-colour);
                opacity: 0.2;
                cursor: default;
                transition:
                    all 0.5s ease,
                    color 1s ease;
            }

            .cell-highlight {
                background-color: var(--accent1);
                color: var(--accent2);
                transition:
                    background-color 1.5s ease-in,
                    color 0.5s ease-in;
            }

            .mistake {
                animation: score-mistake 0.5s ease;
            }

            .correct {
                animation: score-correct 0.7s ease;
            }

            #words {
                border-radius: 0px 7px;
                width: 100%;
                resize: vertical;
                min-height: 2em;
            }

            #grid-container {
                display: flex;
                flex-direction: column;
            }

            #grid-header {
                display: flex;
                justify-content: center;
                border-bottom: 2px ridge var(--accent1);
                border-radius: 7px;
                font-size: 1.05em;
                font-weight: 600;
                text-align: center;
                padding: 2px;
            }

            #grid-mistakes-container {
                display: flex;
                position: sticky;
                top: 0px;
                z-index: 1;
                border-radius: 7px;
                opacity: 0.9;
                margin: 0;
            }

            #grid-mistakes {
                display: flex;
                flex-grow: 1;
                justify-content: center;
                column-gap: 4px;
                font-weight: 600;
                background-color: var(--accent2);
                border: 2px outset var(--accent1);
                border-radius: 0px 0px 0px 7px;
                margin-top: 0px;
            }

            #grid-mistakes-label {
                background-color: transparent;
            }

            #grid-mistakes-value {
                background-color: transparent;
            }

            #undo-mistake {
                border-radius: 0px 0px 7px 0px;
                font-weight: 700;
                min-width: 3em;
                margin-top: 0px;
            }

            #grid-letters {
                display: none;
                align-self: center;
                flex-wrap: wrap;
                column-gap: 2px;
                background-color: transparent;
                max-width: var(--grid-max-size);
            }

            #grid-victory {
                align-self: center;
                text-align: center;
                font-size: 1.5em;
                font-weight: 600;
                background-image: linear-gradient(315deg, var(--accent1), transparent 15% 85%, var(--accent1));
                border: 2px solid var(--accent1);
                border-radius: 7px 7px 0px 0px;
                padding: 2px;
                width: 100%;
                animation: win-blink 12s ease alternate infinite;
            }

            #grid-win {
                display: none;
                flex-direction: column;
            }

            #grid-input {
                display: flex;
                position: sticky;
                bottom: 0px;
                z-index: 1;
                border-radius: 7px;
                margin: 0;
                height: 2em;
                opacity: 0.9;
            }

            #grid-words-count {
                display: flex;
                justify-content: center;
                align-items: center;
                background-color: var(--accent2);
                border: 2px outset var(--accent1);
                border-bottom: none;
                border-radius: 7px 0px 0px 0px;
                font-weight: 600;
                text-align: center;
                min-width: 3em;
                margin-bottom: 0;
            }

            #wordInput {
                width: 100%;
                margin-bottom: 0;
                border-left: none;
                border-right: none;
                border-bottom-color: var(--accent1);
            }

            #backspace {
                border-radius: 0px 7px 0px 0px;
                font-weight: 700;
                min-width: 3em;
                margin-bottom: 0;
                border-bottom: none;
                border-left-style: inset;
                border-right-style: inset;
                box-shadow: none;
            }

            #letters-count-container {
                background-color: var(--accent2);
                border-left: 2px outset var(--accent1);
                border-right: 2px inset var(--accent1);
                font-weight: 600;
                padding: 4px;
                margin: 0;
            }

            #letters-count {
                text-shadow: 1px 1px var(--primary-colour);
            }

            #guessedWordsLabel {
                display: flex;
                justify-content: center;
                background-color: var(--accent2);
                border-top: 2px outset var(--accent1);
                border-radius: 0px 0px 0px 7px;
                font-size: 1.05em;
                font-weight: 600;
                margin: 0;
                width: 100%;
            }
        </style>
    </head>
    <body>
        <h1 id='game-name'>Array</h1>

        <!-- Settings -->
        <details id='settings'>
            <summary id='settings-summary'>Settings</summary>

            <div style='display: flex; align-items: baseline;'>
                <input type='checkbox' id='hideCells'>
                <label for='hideCells' id='hideCells-label'>Hide inactive cells completely</label>
            </div>

            <hr>
        </details>

        <!-- Words list textarea -->
        <details>
            <summary id='words-summary'>Words (answers)</summary>
            <textarea
                id='words'
                autocomplete='off'
                placeholder='The list of words to guess (separated by space)'
            ></textarea>
        </details>

        <!-- Save & Load buttons -->
        <div style='display: flex; column-gap: 4px;'>
            <!-- Load button -->
            <button
                id='loadWordsButton'
                class='menuButton tooltipParent'
                onclick='document.getElementById("loadWordsInput").click()'
                style='border-radius: 7px 0px 0px 0px;'
            >
                &#128193; Load
                <span class='tooltip'>Load words list from .txt file</span>
            </button>
            <input
                id='loadWordsInput'
                type='file'
                accept='.txt'
                onchange='loadWords()'
                style='display: none;'
            >
            </input>

            <!-- Save button -->
            <a
                id='saveWordsButton'
                href=''
                class='menuButton tooltipParent'
                onclick='saveWords()'
                style='border-radius: 0px 7px 0px 0px;'
            >
                &#128190; Save
                <span class='tooltip'>Save words list to .txt file</span>
            </a>
        </div>

        <!-- Start button -->
        <button
            id='startButton'
            onclick='fillGrid()'
            style='border-radius: 0px 0px 7px 7px;'
        >
            Start
        </button>

        <!-- Game grid -->
        <div id='grid-container'>
            <!-- Header -->
            <span id='grid-header' tabindex='0'>...</span>

            <!-- Score -->
            <div id='grid-mistakes-container'>
                <div id='grid-mistakes' tabindex='0'>
                    <span id='grid-mistakes-label'>Mistakes:</span>
                    <span id='grid-mistakes-value'>0</span>
                </div>

                <button
                    id='undo-mistake'
                    class='tooltipParent'
                    disabled
                >
                    &#60;
                    <span class='tooltip'>Undo the last mistake</span>
                </button>
            </div>

            <!-- Letters -->
            <div id='grid-letters' tabindex='1'></div>

            <!-- Victory text -->
            <div id='grid-win' tabindex='0'>
                <span id='grid-victory' tabindex='0'>Victory!</span>
                
                <!-- End stats -->
                <table id='grid-win-stats'>
                    <th id='grid-win-stats-label' colspan='2' tabindex='0'>
                        Statistics
                    </th>
    
                    <tr>
                        <td>
                            <span id='grid-win-time-label' tabindex='0'>Time (min:sec)</span>
                        </td>
                        <td>
                            <span id='grid-win-time' tabindex='0'>00:00</span>
                        </td>
                    </tr>
    
                    <tr>
                        <td>
                            <span id='grid-win-mistakes-label' tabindex='0'>Mistakes</span>
                        </td>
                        <td>
                            <span id='grid-win-mistakes' tabindex='0'>0</span>
                        </td>
                    </tr>
                </table>
            </div>

            <!-- Input -->
            <div id='grid-input'>
                <!-- Words counter -->
                <span id='grid-words-count' tabindex='0'>0</span>

                <!-- Guess input -->
                <input
                    type='text'
                    id='wordInput'
                    autocomplete='off'
                    oninput='checkInput()'
                    placeholder='Type your guess'
                >

                <!-- Delete last letter -->
                <button
                    id='backspace'
                    class='tooltipParent'
                >
                    &#60;
                    <span class='tooltip'>Delete the last letter</span>
                </button>
            </div>

            <!-- Letters counter -->
            <span id='letters-count-container' tabindex='0'>
                Letters count:
                <span id='letters-count'></span>
            </span>

            <!-- Guessed words list -->
            <div style='margin-top: 0;'>
                <span id='guessedWordsLabel' tabindex='0'>
                    Guessed words
                </span>
                <ul id='guessedList'></ul>
            </div>
        </div>

        <p id='author' class='box' style='font-style: italic'>
            Made by Vitaly Pavlovich Ulyanov.
        </p>
        <!-- –ê–≤—Ç–æ—Ä ‚Äî –í–∏—Ç–∞–ª–∏–π –ü–∞–≤–ª–æ–≤–∏—á –£–ª—å—è–Ω–æ–≤. -->

        <script src='../resources/VitalLogic.js'></script>
        <script>
            // Types
            /**
             * @typedef Word
             * @property {string} word
             * @property {HTMLDivElement[]} letters
            */

            // Elements
            /** @type {HTMLInputElement} */
            let hideCells = document.getElementById('hideCells');
            /** @type {HTMLInputElement} */
            let loadWordsInput = document.getElementById('loadWordsInput');
            /** @type {HTMLAnchorElement} */
            let saveWordsButton = document.getElementById('saveWordsButton');
            /** @type {HTMLTextAreaElement} */
            let wordsText = document.getElementById('words');
            /** @type {HTMLSpanElement} */
            let header = document.getElementById('grid-header');
            /** @type {HTMLDivElement} */
            let mistakesContainer = document.getElementById('grid-mistakes-container');
            /** @type {HTMLDivElement} */
            let mistakesDiv = document.getElementById('grid-mistakes');
            /** @type {HTMLSpanElement} */
            let mistakesSpan = document.getElementById('grid-mistakes-value');
            /** @type {HTMLButtonElement} */
            let undoMistake = document.getElementById('undo-mistake');
            /** @type {HTMLSpanElement} */
            let wordCount = document.getElementById('grid-words-count');
            /** @type {HTMLSpanElement} */
            let lettersContainer = document.getElementById('letters-count-container');
            /** @type {HTMLSpanElement} */
            let lettersCount = document.getElementById('letters-count');
            /** @type {HTMLDivElement} */
            let grid = document.getElementById('grid-letters');
            /** @type {HTMLSpanElement} */
            let win = document.getElementById('grid-win');
            /** @type {HTMLSpanElement} */
            let time = document.getElementById('grid-win-time');
            /** @type {HTMLSpanElement} */
            let mistakes = document.getElementById('grid-win-mistakes');
            /** @type {HTMLDivElement} */
            let inputDiv = document.getElementById('grid-input');
            /** @type {HTMLInputElement} */
            let wordInput = document.getElementById('wordInput');
            /** @type {HTMLButtonElement} */
            let backspace = document.getElementById('backspace');
            /** @type {HTMLUListElement} */
            let guessedList = document.getElementById('guessedList');

            // Variables
            /** @type {Word[]} */
            let words = [];
            /** @type {string[]} */
            let wordsList = [];
            /** @type {number} */
            let highlight;
            /** @type {number} */
            let mistakesCount;
            /** @type {number} */
            let timerStart;
            /** @type {number} */
            let timerEnd;

            backspace.addEventListener('click', function (event) {
                if (!wordInput.value) return
                wordInput.value = wordInput.value.substring(0, wordInput.value.length - 1);
                checkInput();
            });

            undoMistake.addEventListener('click', function (event) {
                if (mistakesCount < 1) return;
                mistakesCount --;
                updateMistakesCounter();
                this.disabled = true;
                wordInput.focus();
            });

            async function loadWords() {
                await loadWordsInput.files[0].text().then((content) => {
                    try {
                        wordsText.value = content;
                        fillGrid();
                    } catch (error) {
                        alert(`Error while reading words file: ${error}`);
                    }
                });
            }

            function saveWords() {
                let data = encodeURIComponent(wordsText.value);
                saveWordsButton.download = 'Words.txt';
                saveWordsButton.href = `data:text/plain;charset=utf-8,${data}`;
            }

            function fillGrid() {
                if (!wordsText.value) return;

                // Stop random cells highlighting
                if (highlight) clearTimeout(highlight);

                // Set the header
                if (loadWordsInput.files[0]?.name) {
                    header.textContent = loadWordsInput.files[0].name.replace('.txt', '');
                }

                // Empty the guessed words list & the grid
                while (guessedList.hasChildNodes()) guessedList.lastChild.remove();
                while (grid.hasChildNodes()) grid.lastChild.remove();

                // Generate words array & create cells
                words = [];
                wordsList = wordsText.value.split(' ');
                wordCount.textContent = wordsList.length;

                // Grab a random word, add its letters to the grid
                while (wordsList.length > 0) {
                    let i = getRandomIndexOfArray(wordsList);
                    insertWord(wordsList[i]);
                    wordsList.splice(i, 1);
                }

                // Set up initial stuff
                mistakesCount = 0;
                wordInput.value = '';
                timerStart = Date.now();
                highlight = setInterval(randomHighlight, 5000);

                win.style.display = 'none';
                grid.style.display = 'flex';
                inputDiv.style.display = 'flex';
                lettersContainer.style.display = 'block';
                mistakesContainer.style.display = 'flex';
                
                wordInput.focus();
                countLetters(words);
                updateMistakesCounter();
            }

            function randomHighlight() {
                if (wordInput.value) return;
                if (words.length < 2) return;

                let i = getRandomIndexOfArray(words);

                words[i].letters.forEach(l => {
                    l.classList.add('cell-highlight');
                    setTimeout(() => {
                        l.classList.remove('cell-highlight');
                    }, 2500);
                });
            }

            /**
             * @param {HTMLDivElement} cell
             * @param {string} text
            */
            function setUpCell(cell, text) {
                cell.tabIndex = 1;
                cell.textContent = text;
                cell.classList.add('cell');
                cell.addEventListener('keydown', /** @type {KeyboardEvent} */ function(event) {
                    if (event.key === ' ' || event.key === 'Enter') {
                        event.preventDefault();
                        wordInput.value += text;
                        checkInput();
                    }
                });
                cell.addEventListener('click', function (event) {
                    wordInput.value += text;
                    checkInput();
                });
            }

            /**
             * @param {string} word
            */
            function insertWord(word) {
                /** @type {string[]} */
                let lettersOriginal = word.split('');
                /** @type {string[]} */
                let lettersFinal = [];

                while (lettersOriginal.length > 0) {
                    let i = getRandomIndexOfArray(lettersOriginal);

                    let cell = grid.appendChild(
                        document.createElement('div')
                    );
                    setUpCell(cell, lettersOriginal[i].toUpperCase());
                    lettersOriginal.splice(i, 1);
                    lettersFinal.push(cell);
                }

                words.push({
                    word: word.toUpperCase(),
                    letters: lettersFinal
                });
            }

            /**
             * @param {HTMLElement} cell
             * @param {boolean} state
            */
            function setCellVisibility(cell, state) {
                if (cell) {
                    cell.tabIndex = state ? 0 : -1;

                    // Hide completely or restore visibility
                    cell.style.visibility = hideCells.checked
                        ? state
                            ? 'visible'
                            : 'hidden'
                        : 'visible';

                    // Make transparent
                    if (state || hideCells.checked) {
                        cell.classList.remove('cell-hidden');
                    } else {
                        cell.classList.add('cell-hidden');
                    }
                }
            }

            function resetCellsVisibility() {
                for (let c of grid.children) {
                    c.classList.remove('cell-highlight');
                    setCellVisibility(c, true);
                }
            }

            /**
             * @param {Word[]} wordSet
            */
            function countLetters(wordSet) {
                wordCount.textContent = wordSet.length;
                lettersCount.textContent = '';
                wordSet.forEach((w, i) => {
                    lettersCount.textContent += `${w.word.length}${
                        i < wordSet.length - 1 ? ', ' : '.'
                    }`;
                });
            }

            function updateMistakesCounter() {
                mistakesSpan.textContent = `${mistakesCount}`;
            }

            function checkInput() {
                // Return if there are no words
                if (words.length === 0) return;

                // Empty the array of words left on the grid
                wordsLeftOnGrid = [];

                // Reset cells' visibility if there's no input
                if (wordInput.value === '') {
                    resetCellsVisibility();
                    countLetters(words);
                    return;
                }

                // Convert the input's value to upper case
                wordInput.value = wordInput.value.toUpperCase();

                for (let i = 0; i < words.length; i++) {
                    // Full word is typed -> remove its letters
                    if (words[i].word === wordInput.value) {
                        words[i].letters.forEach(l => l.remove());

                        // Append guessed words list
                        let li = document.createElement('li');
                        li.textContent = words[i].word;
                        li.tabIndex = 0;
                        guessedList.insertBefore(li, guessedList.firstChild);

                        // Remove the word from the list and empty the input
                        words.splice(i, 1);
                        wordInput.value = '';

                        // Animate the input field
                        inputDiv.classList.add('correct');
                        wordInput.readOnly = true;
                        setTimeout(() => {
                            inputDiv.classList.remove('correct');
                            wordInput.readOnly = false;
                        }, 800);

                        // All words are removed -> victory
                        if (!grid.hasChildNodes()) {
                            win.style.display = 'flex';
                            win.focus();
                            timerEnd = Date.now();

                            let date = new Date(timerEnd - timerStart);
                            let min = date.getMinutes();
                            let sec = date.getSeconds();

                            time.textContent = `${
                                min > 9 ? min : `0${min}`
                            }:${
                                sec > 9 ? sec : `0${sec}`
                            }`;

                            // Update mistakes count in results table
                            mistakes.textContent = mistakesCount;

                            // Hide unnecessary gameplay elements
                            mistakesContainer.style.display = 'none';
                            lettersContainer.style.display = 'none';
                            inputDiv.style.display = 'none';
                            grid.style.display = 'none';
                        } else {
                            resetCellsVisibility();
                            countLetters(words);
                        }

                        // Update stats and quit
                        countLetters(words);
                        return;
                    }
                }
                // No full words guessed -> leave only words starting with the input
                words.forEach(w => {
                    w.letters.forEach(l => {
                        setCellVisibility(l, w.word.startsWith(wordInput.value));
                    });
                });

                // Get the list of words left on the grid
                let wordsLeft = words.filter(w => w.word.startsWith(wordInput.value));

                // No words left & input is more than 3 letters -> mistake
                if (wordsLeft.length === 0) {
                    if (wordInput.value.length > 3) {
                        mistakesContainer.classList.add('mistake');
                        undoMistake.disabled = false;
                        mistakesCount ++;
                        updateMistakesCounter();
                    }

                    wordInput.readOnly = true;
                    inputDiv.classList.add('mistake');

                    setTimeout(() => {
                        mistakesContainer.classList.remove('mistake');
                        inputDiv.classList.remove('mistake');
                        wordInput.value = wordInput.value.substring(
                            0, wordInput.value.length - 1
                        );
                        wordInput.readOnly = false;
                        checkInput();
                    }, 600);
                } else {
                    countLetters(wordsLeft);
                }
            }

            /**
             * @param {any[]} array
            */
            function getRandomIndexOfArray(array) {
                return Math.floor(Math.random() * array.length);
            }
        
            generateLanguagesList([
                {
                    name: 'English [Vitaly Ulyanov]',
                    langTags: ['en', 'en-AU', 'en-BZ', 'en-CA', 'en-CB', 'en-GB', 'en-IE', 'en-JM', 'en-NZ', 'en-PH', 'en-TT', 'en-US', 'en-ZA', 'en-ZW'],
                    elements: [
                        {
                            "id": "game-name",
                            "childNodesTexts": [
                                "Array"
                            ]
                        },
                        {
                            "id": "settings-summary",
                            "childNodesTexts": [
                                "Settings"
                            ]
                        },
                        {
                            "id": "hideCells-label",
                            "childNodesTexts": [
                                "Hide inactive cells completely"
                            ]
                        },
                        {
                            "id": "fontLabel",
                            "childNodesTexts": [
                                "Font"
                            ]
                        },
                        {
                            "id": "fontInput",
                            "childNodesTexts": [],
                            "placeholder": "Type a font's name and press Enter"
                        },
                        {
                            "id": "primLabel",
                            "childNodesTexts": [
                                "Background colour"
                            ]
                        },
                        {
                            "id": "secLabel",
                            "childNodesTexts": [
                                "Text colour"
                            ]
                        },
                        {
                            "id": "acc1Label",
                            "childNodesTexts": [
                                "Accent colour 1"
                            ]
                        },
                        {
                            "id": "acc2Label",
                            "childNodesTexts": [
                                "Accent colour 2"
                            ]
                        },
                        {
                            "id": "loadLabel",
                            "childNodesTexts": [
                                "üìÅ Load colours"
                            ]
                        },
                        {
                            "id": "saveColoursButton",
                            "childNodesTexts": [
                                "üíæ Save colours"
                            ]
                        },
                        {
                            "id": "exportLang",
                            "childNodesTexts": [
                                "üåê Export texts for translation"
                            ]
                        },
                        {
                            "id": "words-summary",
                            "childNodesTexts": [
                                "Words (answers)"
                            ]
                        },
                        {
                            "id": "words",
                            "childNodesTexts": [],
                            "placeholder": "The list of words to guess (separated by space)"
                        },
                        {
                            "id": "loadWordsButton",
                            "childNodesTexts": [
                                "üìÅ Load",
                                "Load words list from .txt file"
                            ]
                        },
                        {
                            "id": "saveWordsButton",
                            "childNodesTexts": [
                                "üíæ Save",
                                "Save words list to .txt file"
                            ]
                        },
                        {
                            "id": "startButton",
                            "childNodesTexts": [
                                "Start"
                            ]
                        },
                        {
                            "id": "grid-mistakes-label",
                            "childNodesTexts": [
                                "Mistakes:"
                            ]
                        },
                        {
                            "id": "undo-mistake",
                            "childNodesTexts": [
                                "<",
                                "Undo the last mistake"
                            ]
                        },
                        {
                            "id": "grid-victory",
                            "childNodesTexts": [
                                "Victory!"
                            ]
                        },
                        {
                            "id": "grid-win-stats-label",
                            "childNodesTexts": [
                                "Statistics"
                            ]
                        },
                        {
                            "id": "grid-win-time-label",
                            "childNodesTexts": [
                                "Time (min:sec)"
                            ]
                        },
                        {
                            "id": "grid-win-mistakes-label",
                            "childNodesTexts": [
                                "Mistakes"
                            ]
                        },
                        {
                            "id": "letters-count-container",
                            "childNodesTexts": [
                                "Letters count: "
                            ]
                        },
                        {
                            "id": "wordInput",
                            "childNodesTexts": [],
                            "placeholder": "Type your guess"
                        },
                        {
                            "id": "backspace",
                            "childNodesTexts": [
                                "<",
                                "Delete the last letter"
                            ]
                        },
                        {
                            "id": "guessedWordsLabel",
                            "childNodesTexts": [
                                "Guessed words"
                            ]
                        },
                        {
                            "id": "author",
                            "childNodesTexts": [
                                "Made by Vitaly Pavlovich Ulyanov."
                            ]
                        },
                        {
                            "id": "fullscreenButton",
                            "childNodesTexts": [
                                "‚ñ≤",
                                "Fullscreen"
                            ]
                        }
                    ]
                },
                {
                    name: '–†—É—Å—Å–∫–∏–π [–í–∏—Ç–∞–ª–∏–π –£–ª—å—è–Ω–æ–≤]',
                    langTags: ['ru', 'ru-RU'],
                    elements: [
                        {
                            "id": "game-name",
                            "childNodesTexts": [
                                "–ú–∞—Å—Å–∏–≤"
                            ]
                        },
                        {
                            "id": "settings-summary",
                            "childNodesTexts": [
                                "–ù–∞—Å—Ç—Ä–æ–π–∫–∏"
                            ]
                        },
                        {
                            "id": "hideCells-label",
                            "childNodesTexts": [
                                "–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫—Ä—ã–≤–∞—Ç—å –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–ª–µ—Ç–∫–∏"
                            ]
                        },
                        {
                            "id": "fontLabel",
                            "childNodesTexts": [
                                "–®—Ä–∏—Ñ—Ç"
                            ]
                        },
                        {
                            "id": "fontInput",
                            "childNodesTexts": [],
                            "placeholder": "–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —à—Ä–∏—Ñ—Ç–∞ –∏ –Ω–∞–∂–º–∏—Ç–µ Enter"
                        },
                        {
                            "id": "primLabel",
                            "childNodesTexts": [
                                "–¶–≤–µ—Ç —Ñ–æ–Ω–∞"
                            ]
                        },
                        {
                            "id": "secLabel",
                            "childNodesTexts": [
                                "–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞"
                            ]
                        },
                        {
                            "id": "acc1Label",
                            "childNodesTexts": [
                                "–ê–∫—Ü–µ–Ω—Ç–Ω—ã–π —Ü–≤–µ—Ç 1"
                            ]
                        },
                        {
                            "id": "acc2Label",
                            "childNodesTexts": [
                                "–ê–∫—Ü–µ–Ω—Ç–Ω—ã–π —Ü–≤–µ—Ç 2"
                            ]
                        },
                        {
                            "id": "loadLabel",
                            "childNodesTexts": [
                                "üìÅ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ü–≤–µ—Ç–∞"
                            ]
                        },
                        {
                            "id": "saveColoursButton",
                            "childNodesTexts": [
                                "üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ü–≤–µ—Ç–∞"
                            ]
                        },
                        {
                            "id": "exportLang",
                            "childNodesTexts": [
                                "üåê –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç—ã –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞"
                            ]
                        },
                        {
                            "id": "words-summary",
                            "childNodesTexts": [
                                "–°–ª–æ–≤–∞ (–æ—Ç–≤–µ—Ç—ã)"
                            ]
                        },
                        {
                            "id": "words",
                            "childNodesTexts": [],
                            "placeholder": "–°–ø–∏—Å–æ–∫ —Å–ª–æ–≤ –¥–ª—è –æ—Ç–≥–∞–¥—ã–≤–∞–Ω–∏—è (—Ä–∞–∑–¥–µ–ª—è—Ç—å –ø—Ä–æ–±–µ–ª–æ–º)"
                        },
                        {
                            "id": "loadWordsButton",
                            "childNodesTexts": [
                                "üìÅ –ó–∞–≥—Ä—É–∑–∏—Ç—å",
                                "–ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–ª–æ–≤–∞ –∏–∑ —Ñ–∞–π–ª–∞ .txt"
                            ]
                        },
                        {
                            "id": "saveWordsButton",
                            "childNodesTexts": [
                                "üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å",
                                "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–ª–æ–≤–∞ –≤ —Ñ–∞–π–ª .txt"
                            ]
                        },
                        {
                            "id": "startButton",
                            "childNodesTexts": [
                                "–ù–∞—á–∞—Ç—å"
                            ]
                        },
                        {
                            "id": "grid-mistakes-label",
                            "childNodesTexts": [
                                "–û—à–∏–±–æ–∫:"
                            ]
                        },
                        {
                            "id": "undo-mistake",
                            "childNodesTexts": [
                                "<",
                                "–û—Ç–º–µ–Ω–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –æ—à–∏–±–∫—É"
                            ]
                        },
                        {
                            "id": "grid-victory",
                            "childNodesTexts": [
                                "–ü–æ–±–µ–¥–∞!"
                            ]
                        },
                        {
                            "id": "grid-win-stats-label",
                            "childNodesTexts": [
                                "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"
                            ]
                        },
                        {
                            "id": "grid-win-time-label",
                            "childNodesTexts": [
                                "–í—Ä–µ–º—è (–º–∏–Ω:—Å–µ–∫)"
                            ]
                        },
                        {
                            "id": "grid-win-mistakes-label",
                            "childNodesTexts": [
                                "–û—à–∏–±–æ–∫"
                            ]
                        },
                        {
                            "id": "letters-count-container",
                            "childNodesTexts": [
                                "–ß–∏—Å–ª–æ –±—É–∫–≤: "
                            ]
                        },
                        {
                            "id": "wordInput",
                            "childNodesTexts": [],
                            "placeholder": "–í–≤–µ–¥–∏—Ç–µ –¥–æ–≥–∞–¥–∫—É"
                        },
                        {
                            "id": "backspace",
                            "childNodesTexts": [
                                "<",
                                "–°—Ç–µ—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –±—É–∫–≤—É"
                            ]
                        },
                        {
                            "id": "guessedWordsLabel",
                            "childNodesTexts": [
                                "–û—Ç–≥–∞–¥–∞–Ω–Ω—ã–µ —Å–ª–æ–≤–∞"
                            ]
                        },
                        {
                            "id": "author",
                            "childNodesTexts": [
                                "–ê–≤—Ç–æ—Ä ‚Äî –í–∏—Ç–∞–ª–∏–π –ü–∞–≤–ª–æ–≤–∏—á –£–ª—å—è–Ω–æ–≤."
                            ]
                        },
                        {
                            "id": "fullscreenButton",
                            "childNodesTexts": [
                                "‚ñ≤",
                                "–ü–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω"
                            ]
                        }
                    ]
                }
            ]);
        </script>
    </body>
</html>
