<!DOCTYPE html>
<html lang='en'>
    <head>
        <meta charset='utf-8' />
        <meta http-equiv='X-UA-Compatible' content='IE=edge' />
        <title>Виталий Ульянов — Избранные стихотворения</title>
        <meta name='viewport' content='width=device-width, initial-scale=1' />
        

        <style>
            :root {
                --accent1: #774936;
                --accent2: #D69F7E;
                --primary-colour: #eeebbd;
                --secondary-colour: #050609;
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            }
            
            * {
                background-color: inherit;
                box-sizing: border-box;
                color: inherit;
                font-family: inherit;
                font-size: 14pt;
                margin-top: 1.5px;
                margin-bottom: 1.5px;
            }
            
            body {
                display: flex;
                flex-direction: column;
                accent-color: var(--accent1);
                background-color: var(--primary-colour);
                color: var(--secondary-colour);
                margin: auto;
                min-width: 85%;
                max-width: 85%;
            }
            
            b {
                background-color: transparent;
            }
            
            .menuButton {
                cursor: pointer;
                display: flex;
                flex-grow: 1;
                align-items: center;
                justify-content: center;
                background-color: var(--accent2);
                color: var(--secondary-colour);
                box-shadow: inset 0px 0px 6px var(--accent1);
                border: 2px outset var(--accent1);
                font-weight: 600;
                text-align: center;
                text-decoration: none;
                text-wrap: nowrap;
                overflow: auto;
                padding: 2px;
            }
            
            .menuButton:hover,
            .menuButton:focus {
                background-color: var(--secondary-colour);
                color: var(--primary-colour);
            }
            
            a.button,
            button {
                display: inline-flex;
                background-color: var(--accent2);
                color: var(--secondary-colour);
                box-shadow: inset 0px 0px 6px var(--accent1);
                border: 2px outset var(--accent1);
                border-radius: 4px;
                cursor: pointer;
                padding-inline: 6px;
                align-items: center;
                justify-content: center;
            }
            
            button:disabled {
                background-color: var(--primary-colour);
                color: var(--secondary-colour);
                cursor: not-allowed;
            }
            
            button:focus,
            button:hover {
                background-color: var(--secondary-colour);
                color: var(--primary-colour);
            }
            
            details {
                display: flex;
                flex-direction: column;
                cursor: default;
                width: 100%;
            }
            
            details > summary {
                background-color: var(--primary-colour);
                box-shadow: inset -1px 1px 4px var(--secondary-colour);
                border-top: 2px inset var(--secondary-colour);
                border-radius: 4px;
                cursor: pointer;
                padding: 2px 6px;
            }
            
            details > summary:focus,
            details > summary:hover,
            details[open] > summary:focus,
            details[open] > summary:hover {
                background-color: var(--secondary-colour);
                color: var(--accent2);
            }
            
            details[open] > summary {
                background-color: var(--accent2);
                border-radius: 0px 0px 4px 4px;
                font-size: 1.05em;
                margin: 0px;
                padding-bottom: 2px;
                position: sticky;
                top: 0px;
                z-index: 2;
            }
            
            h1 {
                align-self: center;
                border-bottom: 4px dotted var(--accent1);
                margin: 4px 0px 4px 0px;
                padding: 8px 12px 4px 12px;
                font-size: 1.7em;
                text-align: center;
            }
            
            h2 {
                box-shadow: 0px 0px 3px var(--secondary-colour);
                border-left: 6px solid var(--secondary-colour);
                border-radius: 4px;
                margin: 4px 0px 4px 0px;
                padding-left: 4px;
                font-size: 1.5em;
            }
            
            h3 {
                box-shadow: 0px 0px 4px var(--accent1);
                border-left: 6px solid var(--accent1);
                border-radius: 4px;
                margin: 4px 0px 4px 6px;
                padding-left: 4px;
                font-size: 1.3em;
            }
            
            hr {
                border: 2px ridge var(--accent1);
                border-radius: 4px;
                width: 100%;
            }
            
            input {
                border: 2px outset var(--secondary-colour);
                accent-color: var(--accent2);
            }
            
            input::placeholder {
                color: var(--accent1);
            }
            
            input[type='file'] {
                border-style: none;
            }
            
            input[type='number'] {
                border-color: var(--accent1);
                border-radius: 4px;
                text-align: center;
                font-weight: 600;
            }
            
            input[type='number']:focus {
                color: var(--secondary-colour);
                background-color: var(--accent2);
            }
            
            kbd {
                background-color: var(--primary-colour);
                color: var(--secondary-colour);
                border: 1px solid var(--accent1);
                border-radius: 3px;
                border-bottom-width: 2px;
                font-weight: 600;
                padding: 1px 2px;
            }
            
            option:checked {
                background-color: var(--accent2);
            }
            
            select {
                background-color: var(--primary-colour);
                border: 2px inset var(--accent1);
                border-radius: 4px;
                color: var(--secondary-colour);
                overflow: auto;
            }
            
            table {
                width: 100%;
                border-collapse: separate;
            }
            
            thead {
                position: sticky;
                top: 0px;
                z-index: 1;
            }
            
            td,
            th {
                border: 2px solid var(--secondary-colour);
                padding-inline: 4px;
                text-align: center;
                font-weight: 600;
            }
            
            th {
                background-image: linear-gradient(45deg, var(--accent2), transparent 20% 80%, var(--accent2));
                background-color: var(--primary-colour);
                border-color: var(--accent1);
                color: var(--accent1);
                font-size: 1.05em;
            }
            
            th:focus,
            th:hover,
            tr:focus,
            tr:hover,
            tbody > tr:nth-of-type(even):focus,
            tbody > tr:nth-of-type(even):hover {
                border-color: var(--accent1);
                background-color: var(--secondary-colour);
                color: var(--primary-colour);
            }
            
            tbody > tr:nth-of-type(even) {
                background-color: var(--accent1);
                color: var(--primary-colour);
            }
            
            textarea {
                border: 2px outset var(--secondary-colour);
                border-radius: 4px;
            }
            
            textarea::placeholder {
                color: var(--accent1);
            }
            
            .box {
                display: flex;
                flex-direction: row;
                border: 2px outset var(--accent1);
                border-radius: 4px;
                padding: 2px;
            }
            
            .box:focus,
            .box:hover {
                background-color: var(--accent1);
                color: var(--primary-colour);
            }
            
            @keyframes tooltipFadeIn {
                from {
                    opacity: 0;
                }
                to {
                    opacity: 0.95;
                }
            }
            
            .modalButtonContainer {
                display: flex;
                flex-direction: row;
                justify-content: space-evenly;
            }
            
            .modalButton {
                border-radius: 4px;
            }
            
            .modalText {
                overflow: auto;
            }
            
            .modalWindow {
                display: none;
                flex-direction: column;
                align-self: center;
                text-align: center;
                box-shadow: 0px 0px 10px 2px var(--secondary-colour);
                border: 4px inset var(--accent1);
                border-radius: 4px;
                padding: 4px;
                max-height: 50vh;
                position: fixed;
                z-index: 9;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
            }
            
            .tooltipParent {
                position: relative;
            }
            
            .tooltipParent:focus > .tooltip,
            .tooltipParent:hover > .tooltip {
                display: flex;
                animation: tooltipFadeIn 0.7s ease;
            }
            
            .tooltip {
                display: none;
                background-color: var(--secondary-colour);
                color: var(--primary-colour);
                opacity: 0.95;
                border: 2px outset var(--accent1);
                border-radius: 4px;
                padding: 3px;
                position: fixed;
                top: 5px;
                left: 5px;
                z-index: 10;
                min-width: min-content;
                width: max-content;
                max-width: 75vw;
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                font-weight: 600;
                text-align: left;
                text-wrap: wrap;
            }
            
            .tooltip::before {
                content: 'i';
                background-color: var(--primary-colour);
                color: var(--secondary-colour);
                border-radius: 4px;
                margin-right: 4px;
                height: 100%;
                padding-inline: 0.5em;
                font-style: italic;
                font-weight: 600;
            }
            
            #author {
                display: block;
            }

            .poem-details[open] {
                box-shadow: 0px 0px 8px var(--accent1),
                    inset 0px 0px 8px var(--accent1);
                border-radius: 4px;
                margin-bottom: 8px;
            }

            .poem-details[open] > .poem-name {
                border-radius: 4px 4px 0px 0px;
            }

            .poem-name {
                background-color: transparent;
                box-shadow: none;
                border: none;
            }
            
            .poem-text {
                padding: 6px 16px;
                margin: 0px;
                max-height: 60vh;
                overflow: auto;
            }
            
            .poem-date {
                display: flex;
                box-shadow: 0px 0px 8px var(--accent1);
                border-radius: 0px 0px 4px 4px;
                margin: 0px;
                padding: 6px 16px;
                text-align: center;
                width: 100%;
            }
        </style>
    </head>
    <body>
        <h1 id='page-title'>Vitaly Ulyanov<br>Selected poems</h1>

        <!-- Settings -->
        <details id='settings'>
            <summary id='settings-summary'>Settings</summary>
        </details>

        <!-- Page main body -->
        <h2>Poems</h2>

        <div id='poems-div'></div>

        <script>
            /**
             * JavaScript logic for HTML programmes by Vital (Vitaly Pavlovich Ulyanov)
             */
            
            // Stored values and style variables
            let storedPrimaryColour =
                localStorage.getItem('--primary-colour') ??
                getComputedStyle(document.body).getPropertyValue('--primary-colour');
            let storedSecondaryColour =
                localStorage.getItem('--secondary-colour') ??
                getComputedStyle(document.body).getPropertyValue('--secondary-colour');
            let storedAccentColour1 =
                localStorage.getItem('--accent1') ??
                getComputedStyle(document.body).getPropertyValue('--accent1');
            let storedAccentColour2 =
                localStorage.getItem('--accent2') ??
                getComputedStyle(document.body).getPropertyValue('--accent2');
            
            document.body.style.setProperty('--primary-colour', storedPrimaryColour);
            document.body.style.setProperty('--secondary-colour', storedSecondaryColour);
            document.body.style.setProperty('--accent1', storedAccentColour1);
            document.body.style.setProperty('--accent2', storedAccentColour2);
            
            /** @type {HTMLDetailsElement} */
            let settings = document.getElementById('settings');
            
            // Append settings with unified ones
            let fullscreen = settings.parentElement.appendChild(
                document.createElement('button')
            );
            let font = settings.appendChild(document.createElement('div'));
            let setDiv = settings.appendChild(document.createElement('div'));
            let primDiv = setDiv.appendChild(document.createElement('div'));
            let secDiv = setDiv.appendChild(document.createElement('div'));
            let acc1Div = setDiv.appendChild(document.createElement('div'));
            let acc2Div = setDiv.appendChild(document.createElement('div'));
            let load = settings.appendChild(document.createElement('div'));
            let save = settings.appendChild(document.createElement('a'));
            
            setDiv.style.display = 'flex';
            setDiv.style.flexWrap = 'wrap';
            
            //#region Fullscreen button
            const up = '&#9650;';
            const down = '&#9660;';
            
            fullscreen.id = 'fullscreenButton';
            fullscreen.classList = 'tooltipParent';
            fullscreen.innerHTML = up;
            fullscreen.style.fontWeight = 600;
            fullscreen.style.borderWidth = 0;
            fullscreen.style.opacity = '0.9';
            fullscreen.style.position = 'fixed';
            fullscreen.style.paddingInline = '2px';
            fullscreen.style.top = '5px';
            fullscreen.style.right = '5px';
            fullscreen.addEventListener('click', function () {
                let page = document.documentElement;
                if (document.fullscreenElement) {
                    if (document.exitFullscreen) document.exitFullscreen();
                } else {
                    if (page.requestFullscreen) page.requestFullscreen();
                }
            });
            
            let fullscreenTooltip = document.createElement('span');
            fullscreenTooltip.className = 'tooltip';
            fullscreenTooltip.textContent = 'Fullscreen';
            
            fullscreen.appendChild(fullscreenTooltip);
            
            document.addEventListener('fullscreenchange', function () {
                if (document.fullscreenElement) fullscreen.innerHTML = down;
                else fullscreen.innerHTML = up;
                fullscreen.appendChild(fullscreenTooltip);
            });
            //#endregion
            
            //#region Font
            let fontDiv = font.appendChild(document.createElement('div'));
            fontDiv.style.display = 'flex';
            fontDiv.style.alignItems = 'baseline';
            fontDiv.style.columnGap = '4px';
            
            let fontLabel = fontDiv.appendChild(document.createElement('label'));
            let fontInput = fontDiv.appendChild(document.createElement('input'));
            
            fontLabel.id = 'fontLabel';
            fontLabel.htmlFor = 'fontInput';
            fontLabel.textContent = 'Font';
            
            fontInput.id = 'fontInput';
            fontInput.type = 'text';
            fontInput.placeholder = 'Type a font\'s name and press Enter';
            fontInput.style.width = '100%';
            fontInput.addEventListener('change', function () {
                localStorage.setItem('pageFont', this.value);
                loadFont();
            });
            //#endregion
            
            //#region Primary colour
            primDiv.style.display = 'flex';
            primDiv.style.minWidth = '50%';
            primDiv.style.alignItems = 'center';
            primDiv.style.columnGap = '4px';
            
            let primInput = primDiv.appendChild(document.createElement('input'));
            primInput.id = 'primCol';
            primInput.type = 'color';
            primInput.value = storedPrimaryColour;
            primInput.addEventListener('input', function () {
                colourChange('primary', this.value);
            });
            
            let primLabel = primDiv.appendChild(document.createElement('label'));
            primLabel.id = 'primLabel';
            primLabel.htmlFor = primInput.id;
            primLabel.textContent = 'Background colour';
            primLabel.style.verticalAlign = 'center';
            //#endregion
            
            //#region Secondary colour
            secDiv.style.display = 'flex';
            secDiv.style.alignItems = 'center';
            secDiv.style.columnGap = '4px';
            
            let secInput = secDiv.appendChild(document.createElement('input'));
            secInput.id = 'secCol';
            secInput.type = 'color';
            secInput.value = storedSecondaryColour;
            secInput.addEventListener('input', function () {
                colourChange('secondary', this.value);
            });
            
            let secLabel = secDiv.appendChild(document.createElement('label'));
            secLabel.id = 'secLabel';
            secLabel.htmlFor = secInput.id;
            secLabel.textContent = 'Text colour';
            secLabel.style.verticalAlign = 'center';
            //#endregion
            
            //#region Accent colour 1
            acc1Div.style.display = 'flex';
            acc1Div.style.minWidth = '50%';
            acc1Div.style.alignItems = 'center';
            acc1Div.style.columnGap = '4px';
            
            let acc1Input = acc1Div.appendChild(document.createElement('input'));
            acc1Input.id = 'acc1Col';
            acc1Input.type = 'color';
            acc1Input.value = storedAccentColour1;
            acc1Input.addEventListener('input', function () {
                colourChange('accent1', this.value);
            });
            
            let acc1Label = acc1Div.appendChild(document.createElement('label'));
            acc1Label.id = 'acc1Label';
            acc1Label.htmlFor = acc1Input.id;
            acc1Label.textContent = 'Accent colour 1';
            acc1Label.style.verticalAlign = 'center';
            //#endregion
            
            //#region Accent colour 2
            acc2Div.style.display = 'flex';
            acc2Div.style.alignItems = 'center';
            acc2Div.style.columnGap = '4px';
            
            let acc2Input = acc2Div.appendChild(document.createElement('input'));
            acc2Input.id = 'acc2Col';
            acc2Input.type = 'color';
            acc2Input.value = storedAccentColour2;
            acc2Input.addEventListener('input', function () {
                colourChange('accent2', this.value);
            });
            
            let acc2Label = acc2Div.appendChild(document.createElement('label'));
            acc2Label.id = 'acc2Label';
            acc2Label.htmlFor = acc2Input.id;
            acc2Label.textContent = 'Accent colour 2';
            acc2Label.style.verticalAlign = 'center';
            //#endregion
            
            //#region Load button
            load.className = 'box';
            load.style.display = 'flex';
            load.style.flexWrap = 'wrap';
            load.style.alignItems = 'center';
            load.style.justifyContent = 'space-between';
            
            let loadLabel = load.appendChild(document.createElement('label'));
            loadLabel.id = 'loadLabel';
            loadLabel.htmlFor = 'loadColoursButton';
            loadLabel.innerHTML = '&#128193; Load colours';
            loadLabel.style.flexGrow = 1;
            loadLabel.style.cursor = 'pointer';
            
            let loadInput = load.appendChild(document.createElement('input'));
            loadInput.id = 'loadColoursButton';
            loadInput.type = 'file';
            loadInput.accept = '.json';
            loadInput.style.display = 'none';
            loadInput.addEventListener('change', loadColours);
            //#endregion
            
            //#region Save button
            save.id = 'saveColoursButton';
            save.href = '';
            save.download = 'ColourScheme.json';
            save.className = 'box';
            save.innerHTML = '&#128190; Save colours';
            save.style.textDecoration = 'none';
            save.addEventListener('click', saveColours);
            //#endregion
            
            //#region Export texts for translation
            let exportLang = settings.appendChild(document.createElement('a'));
            
            exportLang.id = 'exportLang';
            exportLang.href = '';
            exportLang.download = 'TranslationTemplate.json';
            exportLang.className = 'box';
            exportLang.innerHTML = '&#127760; Export texts for translation';
            exportLang.style.textDecoration = 'none';
            exportLang.addEventListener('click', exportTranslationTemplate);
            //#endregion
            
            function colourChange(colourType, colour) {
                switch (colourType) {
                    case 'primary':
                        document.body.style.setProperty('--primary-colour', colour);
                        localStorage.setItem('--primary-colour', colour);
                        break;
                    case 'secondary':
                        document.body.style.setProperty('--secondary-colour', colour);
                        localStorage.setItem('--secondary-colour', colour);
                        break;
                    case 'accent1':
                        document.body.style.setProperty('--accent1', colour);
                        localStorage.setItem('--accent1', colour);
                        break;
                    case 'accent2':
                        document.body.style.setProperty('--accent2', colour);
                        localStorage.setItem('--accent2', colour);
                        break;
                    default:
                        break;
                }
            }
            
            /**
             * @typedef {Object} ColourScheme
             * @property {string} primary
             * @property {string} secondary
             * @property {string} accent1
             * @property {string} accent2
             */
            
            function saveColours() {
                /** @type {ColourScheme}  */
                let colours = {
                    primary: document.body.style.getPropertyValue('--primary-colour'),
                    secondary: document.body.style.getPropertyValue('--secondary-colour'),
                    accent1: document.body.style.getPropertyValue('--accent1'),
                    accent2: document.body.style.getPropertyValue('--accent2'),
                };
                let data = encodeURIComponent(JSON.stringify(colours, undefined, 2));
                saveColoursButton.href = `data:text/plain;charset=utf-8,${data}`;
            }
            
            /**
             * @typedef {Object} LangElement
             * @property {string} id
             * @property {string} textContent
             * @property {string} placeholder
             * @property {string[]} childNodesTexts
             */
            function exportTranslationTemplate() {
                /** @type {LangElement[]} */
                let elements = [];
            
                document.querySelectorAll('body *').forEach((e) => {
                    if (e.tagName !== 'DIV'
                        && e.tagName !== 'DETAILS'
                        && e.tagName !== 'TABLE'
                        && e.id
                        && e.id !== 'lang'
                    ) {
                        /** @type {LangElement} */
                        let newEl = {};
            
                        newEl.id = e.id;
            
                        if (e.childNodes) {
                            newEl.childNodesTexts = [];
            
                            for (let n of e.childNodes) {
                                if (n.textContent && n.textContent.trim() !== '') {
                                    newEl.childNodesTexts.push(n.textContent.trim());
                                }
                            }
                        } else {
                            if (e.textContent) {
                                newEl.textContent = e.textContent;
                            }
                        }
            
                        if (e.placeholder) {
                            newEl.placeholder = e.placeholder;
                        }
            
                        if (newEl.textContent
                            || newEl.placeholder
                            || newEl?.childNodesTexts.length > 0
                        ) {
                            elements.push(newEl);
                        }
                    }
                });
            
                let data = encodeURIComponent(JSON.stringify(elements, undefined, 4));
                exportLang.href = `data:text/plain;charset=utf-8,${data}`;
            }
            
            async function loadColours() {
                await loadColoursButton.files[0].text().then((content) => {
                    try {
                        /** @type {ColourScheme} */
                        let data = JSON.parse(content);
                        if (data) {
                            if (data.primary) {
                                colourChange('primary', data.primary);
                                primInput.value = data.primary;
                            }
                            if (data.secondary) {
                                colourChange('secondary', data.secondary);
                                secInput.value = data.secondary;
                            }
                            if (data.accent1) {
                                colourChange('accent1', data.accent1);
                                acc1Input.value = data.accent1;
                            }
                            if (data.accent2) {
                                colourChange('accent2', data.accent2);
                                acc2Input.value = data.accent2;
                            }
                        }
                    } catch (error) {
                        alert(
                            `Ошибка при чтении файла цветов: ${error}`
                        );
                    }
                });
            }
            
            function loadFont() {
                let font = localStorage.getItem('pageFont');
                document.getElementById('fontInput').value = font;
                document.documentElement.style.fontFamily = font;
            }
            
            /**
             * @typedef {Object} Translation
             * @property {string} name
             * @property {string[]} langTags
             * @property {LangElement[]} elements
             */
            /**
             * @param {Translation[]} languages
             */
            function generateLanguagesList(languages) {
                /** @type {HTMLSelectElement} */
                let list = document.body.insertBefore(
                    document.createElement('select'), settings
                );
                list.id = 'lang';
                list.style.borderRadius = '7px 0px 0px 7px';
                list.addEventListener('change', function (event) {
                    selectLanguage(languages, true);
                });
            
                for (let l of languages) {
                    /** @type {HTMLOptionElement} */
                    let option = list.appendChild(
                        document.createElement('option')
                    );
                    option.value = l.name;
                    option.textContent = l.name;
                }
            
                selectLanguage(languages, false);
            }
            
            /**
             * @param {Translation[]} languages
             * @param {boolean} fromMenu
             */
            function selectLanguage(languages, fromMenu) {
                /** @type {HTMLSelectElement} */
                let menu = document.getElementById('lang');
                /** @type {string} */
                let selection = undefined;
            
                if (fromMenu === false) {
                    if (localStorage.getItem('lang')) {
                        selection = localStorage.getItem('lang');
                        menu.value = selection;
                    } else if (navigator.language) {
                        // Iterate over translations
                        for (const l of languages) {
                            // If the valid option is finally found, exit
                            if (selection) {
                                break;
                            } else if (l.langTags) {
                                // Otherwise iterate over the tags and
                                // compare them to the browser language
                                for (const t of l.langTags) {
                                    if (navigator.language === t) {
                                        menu.value = l.name;
                                        selection = l.name;
                                        break;
                                    }
                                }
                            }
                        }
                    }
                } else {
                    selection = menu.value;
                }
            
                if (selection) {
                    /** @type {Translation} */
                    let translation = {};
            
                    for (const l of languages) {
                        if (l.name === selection) {
                            translation = l;
                            break;
                        }
                    }
            
                    if (translation) {
                        localStorage.setItem('lang', selection);
            
                        for (const e of translation.elements) {
                            let target = document.getElementById(e.id);
            
                            if (target) {
                                if (e.textContent) {
                                    target.textContent = e.textContent;
                                }
            
                                if (e.placeholder) {
                                    target.placeholder = e.placeholder;
                                }
            
                                if (e.childNodesTexts) {
                                    /** @type {number} */
                                    let index = 0;
            
                                    for (const c of target.childNodes) {
                                        if (c.textContent
                                            && c.textContent.trim() !== ''
                                            && e.childNodesTexts[index]
                                        ) {
                                            c.textContent = e.childNodesTexts[index];
                                            index ++;
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
            
            loadFont();

        </script>
        <script>
            // Elements
            /** @type {HTMLDivElement} */
            let poemsDiv = document.getElementById('poems-div');

            // Types
            /**
             * @typedef Poem
             * @property {string} name
             * @property {string} text
             * @property {string} date
            */

            // Variables
            /** @type {Poem[]} */
            let poemsList = [
                {   // «Город»
                    name: '«Город»',
                    text: `Город, утро, шум машин,
                        Душно, в воздухе бензин,
                        Повсюду спешка, беготня
                        И недовольство, толкотня,
                        Уставшие глаза, зевота,
                        Дела, учёба и работа,
                        И душно, в воздухе бензин,
                        Город, утро, шум машин.
                        
                        День — вот время для заботы,
                        Горы непростой работы
                        И часов неспешный бег,
                        Тихий, как зимою снег,
                        И гул порою за окном,
                        А мысли всё же об одном:
                        Что много непростой работы,
                        День — вот время для заботы.
                        
                        Вечер и мельканье фонарей,
                        Город весь в сиянии огней,
                        Суета, усталость тут и там
                        И люди отовсюду — по домам,
                        Конец работ, конец трудов
                        И силуэт родных домов,
                        Наш город весь в сиянии огней,
                        Вечер и мельканье фонарей.
                        
                        Ночь и в небе тишина,
                        Редкий окон свет и полная луна,
                        Пустые улицы, машин негромкий звук,
                        Колёс метро спокойный стук,
                        Повсюду сновиденья и мечтанья,
                        И будущего утра ожиданье,
                        И редкий свет окон, и полная луна,
                        Ночь и в небе тишина…`,
                    date: '13.10.2012'
                },
                {   // «Будь честным»
                    name: '«Будь честным»',
                    text: `Вот с ложью собираются
                        Ленивые гонцы,
                        Существовать пытаются
                        Живые мертвецы,
                        Над всеми возвышаются
                        Учёные глупцы,
                        И вмиг обогащаются
                        Бесчестные купцы.
                        
                        Пред златом поклонение
                        Ты должен победить,
                        Ведь сердца обеднение
                        Не можем мы простить,
                        Ведь это преступление,
                        Что можно всё купить,
                        Ведь есть такое мнение,
                        Что честным надо быть!`,
                    date: '31.10.2012'
                },
                {   // «Зима»
                    name: '«Зима»',
                    text: `Вечер, за окном падает снег,
                        Тихо, и весь мир замедлил свой бег,
                        Город опустел, мало людей,
                        Редкие лучи дальних огней.
                        
                        Всё уж замело, трудно идти,
                        Но не может снег нас подвести,
                        Чист, сияет он, как истины свет,
                        Он научит нас на всё искать ответ.
                        
                        Всё белым-бело и тихо вокруг,
                        В зиму унеслись гул, шум и стук,
                        Снег летит с невесомых далёких планет,
                        Снег очистил мир, грязи уж нет.
                        
                        Вновь с небес идёт снежный звездопад,
                        Сильно замело дивный наш сад,
                        И зима облегчила наш бешеный бег,
                        Вечер, за окном падает снег.`,
                    date: '07.12.2012'
                },
                {   // «Пройдут года»
                    name: '«Пройдут года»',
                    text: `Давно огонь погас в груди,
                        Настал мороз, и всё пропало,
                        Несбыточного уж не жди,
                        Вся жизнь от памяти устала.
                        
                        Пропав, ничто к нам не вернётся,
                        Ушедший день оставишь ты,
                        Взяв старый опыт, нам придётся
                        Исполнить новые мечты.`,
                    date: '26.12.2012'
                },
                {   // «Архимед»
                    name: '«Архимед»',
                    text: `Давным-давно на белом свете
                        На радость всей большой планете
                        Жил-был очень мудрый дед,
                        Его звали Архимед.
                        
                        Никогда не знал он скуки,
                        Ведь всю жизнь гранит науки
                        Грыз усердно и сумел
                        Сделать много важных дел.
                        
                        Его открытиям повсюду
                        Были рады, словно чуду:
                        Поднимать большие грузы
                        Научились Сиракузы,
                        
                        И умные труды его уже в то время
                        Нелёгких мыслей завершили бремя,
                        Но знаменита тут история одна,
                        Что многим нравится и в наши времена.
                        
                        Раз он в ванну погрузился,
                        Тут закон ему открылся,
                        Что разнёсся по планете
                        И известен даже детям.
                        
                        Тело, кинутое в воду,
                        Быстро породило моду
                        Измерения объёмов
                        С примененьем водоёмов.
                        
                        Учёного уж нет на белом свете,
                        Но не забыли на планете,
                        Что был очень мудрый дед,
                        Его звали Архимед.`,
                    date: '27.12.2012'
                },
                {   // «Без адресата»
                    name: '«Без адресата»',
                    text: `Быть может, будет день когда-то
                        В какой-нибудь тяжёлый год,
                        Отправлю я письмо без адресата
                        В холодный мир из грязи и невзгод.
                        
                        И строки ценные, как крик из пустоты,
                        Я отпущу в важнейший их полёт,
                        Быть может, среди сонной глухоты
                        Есть тот, кто их действительно поймёт.
                        
                        В тебе вся жизнь и вся душа,
                        Лети, письмо, стремись на свет,
                        Быть может, ты не стоишь ни гроша,
                        Но я не перестану ждать ответ.
                        
                        А если же ни с чем вернёшься в этот ад,
                        С тоскою я, но твёрдою рукой
                        Приму тебя, письмо моё, назад
                        И, умирая, заберу с собой.`,
                    date: '21.03.2013'
                },
                {   // «Где-то»
                    name: '«Где-то»',
                    text: `Зачем мне солнце это
                        И яркий его свет?
                        Ведь знаю я, что где-то
                        Чего-то больше нет.
                        
                        Иду теперь по краю,
                        И стынет в жилах кровь,
                        Я где-то умираю,
                        И я рождаюсь вновь.
                        
                        И нам пора признаться,
                        Страданий не тая,
                        Там хочется остаться,
                        Ведь мы — одна семья.`,
                    date: '02.06.2013'
                },
                {   // «Метро»
                    name: '«Метро»',
                    text: `Мы можем ехать в одном вагоне,
                        Упорно не видя друг друга,
                        Живя как скульптуры в бетоне,
                        В чьих душах лишь холод и вьюга.
                        
                        Чрез тоннели артерий и вен
                        Кровь бежит иль проходит беспечно,
                        И идёт жизнь-метрополитен
                        От начальной и до конечной.
                        
                        Выходит и заходит человек,
                        На станциях кого-то ждут.
                        Одним — утомительный бег,
                        Другим — покой и уют.
                        
                        Мне не выразить парочкой строк,
                        Как сливаются в массу одну
                        Наши судьбы, как ветки метро,
                        И порою рождают весну.
                        
                        Как они создают новый путь
                        Там, где не было раньше дорог,
                        И как просто способны уснуть,
                        Вечным ценностям дав краткий срок.
                        
                        Как ведут ради зла свои войны,
                        Как не пробуют выйти из круга,
                        Как они, разойдясь преспокойно,
                        До конечной не помнят друг друга.
                        
                        Хоть проходят года и недели,
                        И стройнее не станет сей стих,
                        Не увидим мы света в тоннеле,
                        Если свет не рождён в нас самих.`,
                    date: '30.10.2013'
                },
                {   // «О павших»
                    name: '«О павших»',
                    text: `От них не осталось имён,
                        Они не вернулись из боя,
                        Не важно, кто глуп, кто умён,
                        Там каждый сражался без сбоя.
                        
                        «И сколько таких, — подумаешь ты, -
                        Что в жару, и в дожди, и в метели,
                        Умирая, сжигали безумцев мечты,
                        Но медаль получить не сумели?»
                        
                        О них не осталось ни строчки,
                        И помнит лишь алый закат
                        На земле чуть заметные кочки
                        Могил неизвестных солдат.
                        
                        И каждый из них любого из нас
                        От идей, что могут лишь ранить,
                        Спасал без дурацких и лживых гримас,
                        Так пускай сохранит его память.
                        
                        И во время тяжёлой беседы
                        Не забудьте вы тех вспоминать,
                        Кто погиб неизвестным во имя Победы,
                        Кто боролся за Родину-мать.
                        
                        Кто, своих не жалея здоровья и сил,
                        Проходя километры и мили,
                        До развязки Священной войны не дожил,
                        Но погиб для того, чтоб мы жили…
                        
                        Вернулся привычный нам быт,
                        И темы иные движутся строем,
                        Но подвиг забытых не будет забыт,
                        Ведь каждый из них пал героем.`,
                    date: '02.11.2013'
                },
                {   // «Демоны»
                    name: '«Демоны»',
                    text: `Кто нас толкает в пропасти,
                        Кто злу всему виной,
                        Коль мрака крутит лопасти
                        Во все века «другой»?
                        
                        Кто нам уж столько лет
                        Даёт дурной урок?
                        Кто взял себе обет
                        Распространять порок?
                        
                        Кто травит весь наш мир
                        Обманом да грехами?
                        Чей это страшный пир
                        И связан ли он с нами?
                        
                        Кто разум наш пленил?
                        Чей это был захват?
                        Терпенья нет и сил,
                        Так кто же виноват?
                        
                        Не мы, а злые демоны,
                        Опора царства тьмы,
                        Руководят проблемами,
                        Но демоны есть мы…`,
                    date: '07.11.2013'
                },
                {   // «Что есть память»
                    name: '«Что есть память»',
                    text: `Если нет человека отныне,
                        Вспоминая, накроем на стол,
                        Погрустим и навеки остынем,
                        Забыв, что от нас он ушёл.
                        
                        Нам он мог ничего не оставить,
                        Как казаться нам может порой,
                        И о нём не останется память,
                        Даже если он был собой.
                        
                        Даже если таил он надежды,
                        Даже если он не был рабом
                        Телеящика, модной одежды,
                        Люди скоро забудут о нём.
                        
                        Не осталось его стремленья,
                        Его веры, его мечты,
                        В его адрес — слова сожаленья,
                        Слёз немного, обрядов цветы.
                        
                        А обряд, как считается, верен,
                        И потом все беспечно живут,
                        Но подумать никто не намерен,
                        Ведь к ним скоро вернётся уют.
                        
                        Снова мир одинаковой были,
                        Надо вновь почитать ерунду,
                        Человека давно все забыли,
                        Вспоминают лишь раз в году.
                        
                        Эта «память» — лишь яркое слово,
                        День особый, он нами нам дан,
                        Чтобы повод найти могли снова
                        Алкоголем наполнить стакан.
                        
                        Так что же такое память?
                        Она не способна убить,
                        Хоть может порою ранить,
                        Она помогает нам жить.
                        
                        Память наша хрупка, как птица,
                        Рядом с нами с утра до утра.
                        С ней, заметьте, проще учиться
                        Создавать в мире больше добра.
                        
                        Через память на мир посмотри
                        И почувствуй же силы прилив,
                        Кто ушёл, в нас остался внутри,
                        И внутри наших душ он жив…`,
                    date: '25.11.2013'
                },
                {   // «Одиночество»
                    name: '«Одиночество»',
                    text: `Будто нету людского потока,
                        Будто мир навсегда опустел,
                        Я слоняюсь опять одиноко,
                        У меня мало силы для дел.
                        
                        А вокруг темнота и дожди,
                        И опять стучит беспокойно
                        Часовой механизм в груди,
                        А в душе всё бушуют войны.
                        
                        Где же будет поставлена точка?
                        Я уверен, её нет нигде,
                        Я, быть может, волк-одиночка,
                        Один в нашей общей беде.
                        
                        Жизнь становится у́же и у́же,
                        Моих мыслей сгущается смесь,
                        Я, возможно, кому-то и нужен,
                        Где-нибудь далеко, но не здесь.
                        
                        Уж ни слова вокруг, ни взгляда,
                        Но иду я вперёд не спеша,
                        Слишком много горького яда
                        Берёт на себя душа.
                        
                        И отныне в холодной пустыне
                        Я один несу свою грусть,
                        Лишь она никогда не покинет,
                        Не оставит меня, ну и пусть.
                        
                        Ну и пусть, одолею я мглу,
                        Отыщу себе смысл и задачи,
                        Найду цену добру и злу,
                        Я смогу, не желайте удачи.`,
                    date: '30.11.2013'
                },
                {   // «Театр жизни»
                    name: '«Театр жизни»',
                    text: `Я трагедий герой
                        В комедийных ролях
                        В комедийном как будто бы мире,
                        Я совсем не простой;
                        Наяву, не во снах,
                        Все актёры ролей своих шире.
                        
                        Мы, играя, ведь чувствуем боль,
                        Нам поставить бы сердце из стали,
                        Вместе с маской сменили роль
                        И как будто другими стали.
                        
                        А зритель нас, если совпали пути,
                        Может спросить порой,
                        Сложно ли жизни дальше идти
                        Там, за игрой.
                        
                        А за кулисами
                        Мысли немыслимы
                        И тяжелы, но играет актёр;
                        Гонка за смыслами,
                        Фразами, письмами
                        Вновь разжигает угасший костёр.
                        
                        И вечно за маскою,
                        Дивною сказкою
                        В общей реальности
                        Люди спешат
                        Туда, где их дом.
                        Хоть стонет душа,
                        Далёк от формальности
                        Театр, идущий своим чередом.
                        
                        Но!
                        Представленье завершено,
                        Наша жизнь словно в театре игра;
                        Окончен уж день, приятных вам снов.
                        Пора.
                        
                        Я сыграл чудака — для вас,
                        Но афишу прочтите заново,
                        Не настал ведь комедий час.
                        Занавес.`,
                    date: '06.12.2013'
                }
            ];

            function fillPoems() {
                poemsList.forEach(p => {
                    let details = poemsDiv.appendChild(
                        document.createElement('details')
                    );
                    details.classList = 'poem-details';

                    let name = details.appendChild(
                        document.createElement('summary')
                    );
                    name.classList = 'poem-name';
                    name.textContent = p.name;

                    let text = details.appendChild(
                        document.createElement('pre')
                    );
                    text.classList = 'poem-text';
                    text.textContent = p.text.replace(/  /g, '');

                    let date = details.appendChild(
                        document.createElement('b')
                    );
                    date.classList = 'poem-date';
                    date.textContent = p.date;
                });
            }

            fillPoems();

            generateLanguagesList([
                {
                    name: 'English [Vitaly Ulyanov]',
                    langTags: ['en', 'en-AU', 'en-BZ', 'en-CA', 'en-CB', 'en-GB', 'en-IE', 'en-JM', 'en-NZ', 'en-PH', 'en-TT', 'en-US', 'en-ZA', 'en-ZW'],
                    elements: [
                        {
                            "id": "page-title",
                            "childNodesTexts": [
                                "Vitaly Ulyanov",
                                "Selected poems"
                            ]
                        },
                        {
                            "id": "settings-summary",
                            "childNodesTexts": [
                                "Settings"
                            ]
                        },
                        {
                            "id": "fontLabel",
                            "childNodesTexts": [
                                "Font"
                            ]
                        },
                        {
                            "id": "fontInput",
                            "childNodesTexts": [],
                            "placeholder": "Type a font's name and press Enter"
                        },
                        {
                            "id": "primLabel",
                            "childNodesTexts": [
                                "Background colour"
                            ]
                        },
                        {
                            "id": "secLabel",
                            "childNodesTexts": [
                                "Text colour"
                            ]
                        },
                        {
                            "id": "acc1Label",
                            "childNodesTexts": [
                                "Accent colour 1"
                            ]
                        },
                        {
                            "id": "acc2Label",
                            "childNodesTexts": [
                                "Accent colour 2"
                            ]
                        },
                        {
                            "id": "loadLabel",
                            "childNodesTexts": [
                                "📁 Load colours"
                            ]
                        },
                        {
                            "id": "saveColoursButton",
                            "childNodesTexts": [
                                "💾 Save colours"
                            ]
                        },
                        {
                            "id": "exportLang",
                            "childNodesTexts": [
                                "🌐 Export texts for translation"
                            ]
                        },
                        {
                            "id": "fullscreenButton",
                            "childNodesTexts": [
                                "▲",
                                "Fullscreen"
                            ]
                        }
                    ]
                },
                {
                    name: 'Русский [Виталий Ульянов]',
                    langTags: ['ru', 'ru-RU'],
                    elements: [
                        {
                            "id": "page-title",
                            "childNodesTexts": [
                                "Виталий Ульянов",
                                "Избранные стихотворения"
                            ]
                        },
                        {
                            "id": "settings-summary",
                            "childNodesTexts": [
                                "Настройки"
                            ]
                        },
                        {
                            "id": "fontLabel",
                            "childNodesTexts": [
                                "Шрифт"
                            ]
                        },
                        {
                            "id": "fontInput",
                            "childNodesTexts": [],
                            "placeholder": "Введите название шрифта и нажмите Enter"
                        },
                        {
                            "id": "primLabel",
                            "childNodesTexts": [
                                "Цвет фона"
                            ]
                        },
                        {
                            "id": "secLabel",
                            "childNodesTexts": [
                                "Цвет текста"
                            ]
                        },
                        {
                            "id": "acc1Label",
                            "childNodesTexts": [
                                "Акцентный цвет 1"
                            ]
                        },
                        {
                            "id": "acc2Label",
                            "childNodesTexts": [
                                "Акцентный цвет 2"
                            ]
                        },
                        {
                            "id": "loadLabel",
                            "childNodesTexts": [
                                "📁 Загрузить цвета"
                            ]
                        },
                        {
                            "id": "saveColoursButton",
                            "childNodesTexts": [
                                "💾 Сохранить цвета"
                            ]
                        },
                        {
                            "id": "exportLang",
                            "childNodesTexts": [
                                "🌐 Экспортировать тексты для перевода"
                            ]
                        },
                        {
                            "id": "fullscreenButton",
                            "childNodesTexts": [
                                "▲",
                                "Полный экран"
                            ]
                        }
                    ]
                }
            ]);
        </script>
    </body>
</html>